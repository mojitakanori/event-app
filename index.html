<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ - ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="css/style.css"> <!-- å…±é€šCSSã‚’èª­ã¿è¾¼ã¿ -->
    <style>
        /* index.htmlå›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .page-title {
            font-size: 2.25rem;
            font-weight: 300;
            margin-bottom: 1.5rem;
            color: var(--dark-text);
            text-align: center;
        }

        .filter-section {
            background-color: #fdfdfd;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow-sm);
            display: flex;
            flex-wrap: wrap; /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒå¢—ãˆãŸå ´åˆã«æŠ˜ã‚Šè¿”ã™ã‚ˆã†ã« */
            align-items: center;
            gap: 1.5rem; /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é–“ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’å°‘ã—åºƒã’ã‚‹ */
        }
        
        .filter-group { /* å„ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆãƒ©ãƒ™ãƒ«ï¼‹ã‚»ãƒ¬ã‚¯ãƒˆï¼‰ã‚’ã¾ã¨ã‚ã‚‹ */
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-section label {
            margin-bottom: 0; /* formå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
            font-size: 0.9rem;
            color: var(--light-text);
        }

        .filter-section select {
            min-width: 200px;
            margin-bottom: 0; /* formå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã */
        }
        
        .event-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªã‚°ãƒªãƒƒãƒ‰ */
            gap: 1.5rem;
            list-style: none;
            padding: 0;
        }

        .event-card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden; /* ç”»åƒã®è§’ä¸¸ã‚’åŠ¹ã‹ã›ã‚‹ãŸã‚ */
            box-shadow: var(--box-shadow-sm);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .event-card__image-link {
            display: block;
            position: relative; /* ãƒãƒƒã‚¸ç”¨ */
        }
        .event-card__image {
            width: 100%;
            height: 200px; /* ç”»åƒã®é«˜ã•ã‚’å›ºå®š */
            object-fit: cover; /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ä¿ã¡ã¤ã¤ã‚«ãƒãƒ¼ */
        }
        .event-card__capacity-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 0.3rem 0.6rem;
            font-size: 0.75rem;
            border-radius: var(--border-radius);
            font-weight: bold;
        }
        .event-card__capacity-badge.full {
            background-color: var(--danger-color);
        }


        .event-card__content {
            padding: 1.25rem;
            flex-grow: 1; /* ã‚«ãƒ¼ãƒ‰ã®é«˜ã•ã‚’æƒãˆã‚‹ãŸã‚ */
            display: flex;
            flex-direction: column;
        }

        .event-card__title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .event-card__title a {
            color: var(--dark-text);
            text-decoration: none;
        }
        .event-card__title a:hover {
            color: var(--primary-color);
        }

        .event-card__meta {
            font-size: 0.875rem;
            color: var(--light-text);
            margin-bottom: 0.75rem;
        }
        .event-card__meta-item {
            display: block; /* å„é …ç›®ã‚’æ”¹è¡Œ */
            margin-bottom: 0.25rem;
        }
        .event-card__meta-item strong {
            color: var(--dark-text);
            font-weight: 500;
        }

        .event-card__description {
            white-space: pre-wrap; /* æ”¹è¡Œã¨ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä¿æŒã—ã€å¿…è¦ãªã‚‰æŠ˜ã‚Šè¿”ã™ */
            word-break: break-word; /* é•·ã„å˜èªã‚‚æŠ˜ã‚Šè¿”ã™ */
            font-size: 0.95rem;
            margin-bottom: 1rem;
            flex-grow: 1; /* è©³ç´°ãƒœã‚¿ãƒ³ã‚’ä¸€ç•ªä¸‹ã«é…ç½®ã™ã‚‹ãŸã‚ */
            color: var(--light-text);
        }

        .event-card__footer {
            margin-top: auto; /* è©³ç´°ãƒœã‚¿ãƒ³ã‚’ä¸€ç•ªä¸‹ã«é…ç½® */
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }
        .event-card__details-btn {
            display: block; /* ãƒœã‚¿ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«ã—ã¦å¹…ä¸€æ¯ã« */
            width: 100%;
            text-align: center;
        }
        .event-card__image-wrapper {
            position: relative;
            display: block;
        }
        .event-card.joint-event { /* is_joint_event ãŒ true ã®ã‚¤ãƒ™ãƒ³ãƒˆã«é©ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¹ */
            border: 2px solid var(--danger-color, #dc3545); /* èµ¤ç³»ã®æ ç·š */
            box-shadow: 0 0 15px rgba(220, 53, 69, 0.3); /* å°‘ã—ç›®ç«‹ã¤å½± */
            position: relative; /* ãƒãƒƒã‚¸ãªã©ã®çµ¶å¯¾é…ç½®ã®åŸºæº–ã«ã™ã‚‹ãŸã‚ */
            background-color: #fff9fa; /* è–„ã„èµ¤ç³»ã®èƒŒæ™¯è‰² (ä»»æ„) */
        }

        .event-card.joint-event::before { /* å·¦ä¸Šã«ã€ŒåˆåŒã‚¤ãƒ™ãƒ³ãƒˆã€ã®ã‚ˆã†ãªå¸¯ã‚’è¿½åŠ ã™ã‚‹ä¾‹ */
            content: "ğŸŒŸ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åˆåŒã‚¤ãƒ™ãƒ³ãƒˆ";
            position: absolute;
            top: -1px; /* ãƒœãƒ¼ãƒ€ãƒ¼ã®ä¸Šã«é‡ãªã‚‹ã‚ˆã†ã«èª¿æ•´ */
            left: -1px;
            background-color: var(--danger-color, #dc3545);
            color: white;
            padding: 0.3em 0.8em;
            font-size: 0.8rem;
            font-weight: bold;
            border-top-left-radius: var(--border-radius); /* å·¦ä¸Šã®è§’ä¸¸ */
            border-bottom-right-radius: var(--border-radius); /* å³ä¸‹ã®è§’ä¸¸ */
            z-index: 10; /* ä»–ã®è¦ç´ ã‚ˆã‚Šæ‰‹å‰ã« */
        }

        /* åˆåŒã‚¤ãƒ™ãƒ³ãƒˆã®å ´åˆã€ç”»åƒãƒ©ãƒƒãƒ‘ãƒ¼ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’èª¿æ•´ã—ã¦å¸¯ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ï¼ˆä»»æ„ï¼‰ */
        .event-card.joint-event .event-card__image-wrapper {
            margin-top: 1.8em; /* å¸¯ã®é«˜ã•ã«å¿œã˜ã¦èª¿æ•´ */
        }
        .event-card.joint-event .event-card__capacity-badge {
            top: calc(10px + 1.8em); /* å¸¯ã®åˆ†ã ã‘ä¸‹ã«ãšã‚‰ã™ */
        }

        @media (max-width: 768px) { /* ä¸­é–“ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆèª¿æ•´ */
            .filter-section {
                flex-direction: column;
                align-items: stretch;
            }
            .filter-group { /* ã‚¹ãƒãƒ›è¡¨ç¤ºã§ã¯ã‚°ãƒ«ãƒ¼ãƒ—ã‚‚ç¸¦ä¸¦ã³ */
                flex-direction: column;
                align-items: stretch;
                gap: 0.25rem;
                margin-bottom: 0.75rem;
            }
             .filter-group:last-child {
                margin-bottom: 0;
            }
            .filter-section select {
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .event-grid {
                grid-template-columns: 1fr; /* ã‚¹ãƒãƒ›ã§ã¯1ã‚«ãƒ©ãƒ  */
            }
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1><a href="index.html">ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ–</a></h1>
        </div>
    </header>
    <nav class="site-nav">
        <div class="container">
            <!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ  -->
            <button class="hamburger-menu" aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ã" aria-expanded="false" aria-controls="nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav id="nav">
                <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã¯ auth.js ã«ã‚ˆã£ã¦ã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
            </nav>
        </div>
    </nav>

    <main class="main-container">
        <h2 class="page-title">é–‹å‚¬ä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆ</h2>

        <section class="filter-section">
            <div class="filter-group">
                <label for="organizerFilter">é–‹å‚¬è€…ã§çµã‚Šè¾¼ã‚€:</label>
                <select id="organizerFilter">
                    <option value="">ã™ã¹ã¦ã®é–‹å‚¬è€…</option>
                    <!-- é–‹å‚¬è€…ãƒªã‚¹ãƒˆã¯JSã§ã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                </select>
            </div>
            <div class="filter-group">
                <label for="areaFilter">ã‚¨ãƒªã‚¢ã§çµã‚Šè¾¼ã‚€:</label>
                <select id="areaFilter">
                    <option value="">ã™ã¹ã¦ã®ã‚¨ãƒªã‚¢</option>
                    <option value="tokyo">æ±äº¬ã‚¨ãƒªã‚¢</option>
                    <option value="osaka">å¤§é˜ªã‚¨ãƒªã‚¢</option>
                    <option value="online">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</option>
                    <option value="other">ãã®ä»–</option>
                </select>
            </div>
        </section>
        
        <div id="messageArea" class="message-area">
            <!-- ã‚¨ãƒ©ãƒ¼ã‚„è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ (js/index.jsã§å¯¾å¿œæƒ³å®š) -->
        </div>

        <div id="loadingMessage" class="loading-message">ã‚¤ãƒ™ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
        
        <ul id="eventList" class="event-grid">
        </ul>
        <p id="noEventsMessage" class="message warning-message" style="display:none; text-align:center;">ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚<br>ç¾åœ¨ã€æ¤œç´¢ã¨ä¸€è‡´ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãŒã”ã–ã„ã¾ã›ã‚“ã€‚<br>æ¤œç´¢æƒ…å ±ã‚’å¤‰æ›´ã—ã¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>
    </main>

    <footer class="site-footer">
        <p>Â© 2025 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ–. All Rights Reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabaseClient.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/script.js"></script>
    <script src="js/index.js"></script>
</body>
</html>