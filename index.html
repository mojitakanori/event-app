<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deal Den | ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</title>
    <link rel="stylesheet" href="css/style.css"> <!-- å…±é€šCSSã‚’èª­ã¿è¾¼ã¿ -->
    <style>
        /* index.htmlå›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .filter-section {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow-sm);
        }
        .filter-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }
        .filter-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        .filter-group {
            display: flex;
            align-items: center;
            background-color: var(--light-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 0.5rem 0.75rem;
            transition: box-shadow 0.2s;
        }
        .filter-group:focus-within {
             box-shadow: 0 0 0 2px var(--primary-color);
             border-color: var(--primary-color);
        }
        .filter-group label, .filter-group svg {
            color: var(--light-text);
            margin-right: 0.5rem;
            flex-shrink: 0;
        }
        .filter-group select, .filter-group input {
            width: 100%;
            border: none;
            background: none;
            outline: none;
            font-size: 0.95rem;
            padding: 0;
        }
        .filter-group.search-group {
            grid-column: 1 / -1; /* æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã¯å¸¸ã«å¹…ã„ã£ã±ã„ã« */
        }
        
        .event-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªã‚°ãƒªãƒƒãƒ‰ */
            gap: 1.5rem;
            list-style: none;
            padding: 0;
        }

        .event-card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden; /* ç”»åƒã®è§’ä¸¸ã‚’åŠ¹ã‹ã›ã‚‹ãŸã‚ */
            box-shadow: var(--box-shadow-sm);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .event-card__image-link {
            display: block;
            position: relative; /* ãƒãƒƒã‚¸ç”¨ */
        }
        .event-card__image {
            width: 100%;
            height: 200px; /* ç”»åƒã®é«˜ã•ã‚’å›ºå®š */
            object-fit: cover; /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ä¿ã¡ã¤ã¤ã‚«ãƒãƒ¼ */
        }
        .event-card__capacity-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 0.3rem 0.6rem;
            font-size: 0.75rem;
            border-radius: var(--border-radius);
            font-weight: bold;
        }
        .event-card__capacity-badge.full {
            background-color: var(--danger-color);
        }


        .event-card__content {
            padding: 1.25rem;
            flex-grow: 1; /* ã‚«ãƒ¼ãƒ‰ã®é«˜ã•ã‚’æƒãˆã‚‹ãŸã‚ */
            display: flex;
            flex-direction: column;
        }

        .event-card__title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .event-card__title a {
            color: var(--dark-text);
            text-decoration: none;
        }
        .event-card__title a:hover {
            color: var(--primary-color);
        }

        .event-card__meta {
            font-size: 0.875rem;
            color: var(--light-text);
            margin-bottom: 0.75rem;
        }
        .event-card__meta-item {
            display: block; /* å„é …ç›®ã‚’æ”¹è¡Œ */
            margin-bottom: 0.25rem;
        }
        .event-card__meta-item strong {
            color: var(--dark-text);
            font-weight: 500;
        }

        .event-card__description {
            white-space: pre-wrap; /* æ”¹è¡Œã¨ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä¿æŒã—ã€å¿…è¦ãªã‚‰æŠ˜ã‚Šè¿”ã™ */
            word-break: break-word; /* é•·ã„å˜èªã‚‚æŠ˜ã‚Šè¿”ã™ */
            font-size: 0.95rem;
            margin-bottom: 1rem;
            flex-grow: 1; /* è©³ç´°ãƒœã‚¿ãƒ³ã‚’ä¸€ç•ªä¸‹ã«é…ç½®ã™ã‚‹ãŸã‚ */
            color: var(--light-text);
        }

        .event-card__footer {
            margin-top: auto; /* è©³ç´°ãƒœã‚¿ãƒ³ã‚’ä¸€ç•ªä¸‹ã«é…ç½® */
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }
        .event-card__details-btn {
            display: block; /* ãƒœã‚¿ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«ã—ã¦å¹…ä¸€æ¯ã« */
            width: 100%;
            text-align: center;
        }
        .event-card__image-wrapper {
            position: relative;
            display: block;
        }
        .event-card.joint-event { /* is_joint_event ãŒ true ã®ã‚¤ãƒ™ãƒ³ãƒˆã«é©ç”¨ã™ã‚‹ã‚¯ãƒ©ã‚¹ */
            border: 2px solid var(--danger-color, #dc3545); /* èµ¤ç³»ã®æ ç·š */
            box-shadow: 0 0 15px rgba(220, 53, 69, 0.3); /* å°‘ã—ç›®ç«‹ã¤å½± */
            position: relative; /* ãƒãƒƒã‚¸ãªã©ã®çµ¶å¯¾é…ç½®ã®åŸºæº–ã«ã™ã‚‹ãŸã‚ */
            background-color: #fff9fa; /* è–„ã„èµ¤ç³»ã®èƒŒæ™¯è‰² (ä»»æ„) */
        }

        .event-card.joint-event::before { /* å·¦ä¸Šã«ã€ŒåˆåŒã‚¤ãƒ™ãƒ³ãƒˆã€ã®ã‚ˆã†ãªå¸¯ã‚’è¿½åŠ ã™ã‚‹ä¾‹ */
            content: "ğŸŒŸ DealDenä¸»å‚¬ã‚¤ãƒ™ãƒ³ãƒˆ";
            position: absolute;
            top: -1px; /* ãƒœãƒ¼ãƒ€ãƒ¼ã®ä¸Šã«é‡ãªã‚‹ã‚ˆã†ã«èª¿æ•´ */
            left: -1px;
            background-color: var(--danger-color, #dc3545);
            color: white;
            padding: 0.3em 0.8em;
            font-size: 0.8rem;
            font-weight: bold;
            border-top-left-radius: var(--border-radius); /* å·¦ä¸Šã®è§’ä¸¸ */
            border-bottom-right-radius: var(--border-radius); /* å³ä¸‹ã®è§’ä¸¸ */
            z-index: 10; /* ä»–ã®è¦ç´ ã‚ˆã‚Šæ‰‹å‰ã« */
        }

        /* åˆåŒã‚¤ãƒ™ãƒ³ãƒˆã®å ´åˆã€ç”»åƒãƒ©ãƒƒãƒ‘ãƒ¼ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’èª¿æ•´ã—ã¦å¸¯ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ï¼ˆä»»æ„ï¼‰ */
        .event-card.joint-event .event-card__image-wrapper {
            margin-top: 1.8em; /* å¸¯ã®é«˜ã•ã«å¿œã˜ã¦èª¿æ•´ */
        }
        .event-card.joint-event .event-card__capacity-badge {
            top: calc(10px + 1.8em); /* å¸¯ã®åˆ†ã ã‘ä¸‹ã«ãšã‚‰ã™ */
        }

        @media (max-width: 768px) { /* ä¸­é–“ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆèª¿æ•´ */
            .filter-section {
                flex-direction: column;
                align-items: stretch;
            }
            .filter-group { /* ã‚¹ãƒãƒ›è¡¨ç¤ºã§ã¯ã‚°ãƒ«ãƒ¼ãƒ—ã‚‚ç¸¦ä¸¦ã³ */
                flex-direction: column;
                align-items: stretch;
                gap: 0.25rem;
                margin-bottom: 0.75rem;
            }
             .filter-group:last-child {
                margin-bottom: 0;
            }
            .filter-section select {
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .event-grid {
                grid-template-columns: 1fr; /* ã‚¹ãƒãƒ›ã§ã¯1ã‚«ãƒ©ãƒ  */
            }
        }
    </style>
</head>
<body>
<header class="site-header">
        <div class="container">
            <h1><a href="index.html">Business HUBã€Deal Denã€</a></h1>
            
            <button class="hamburger-menu" aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ã" aria-expanded="false" aria-controls="nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>
    <nav class="site-nav">
        <div class="container">
            <nav id="nav">
                </nav>
        </div>
    </nav>

    <main class="main-container">
        <h2 class="page-title">é–‹å‚¬ä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆ</h2>

        <section class="filter-section">
            <h3 class="filter-title">ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¢ã™</h3>
            <div class="filter-controls">
                <div class="filter-group search-group">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.556 6 6 0 0 1 8.556 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3.04-3.04ZM6.5 11.5a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"></path></svg>
                    <input type="search" id="keywordSearch" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢...">
                </div>
                <div class="filter-group">
                    <label for="organizerFilter">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M10.5 5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm.061 3.073a4 4 0 1 0-5.123 0 6.005 6.005 0 0 0-2.9 5.142.75.75 0 1 0 1.498-.07 4.5 4.5 0 0 1 8.97 0 .75.75 0 1 0 1.498-.07 6.004 6.004 0 0 0-2.9-5.142Z"></path></svg>
                        é–‹å‚¬è€…:
                    </label>
                    <select id="organizerFilter">
                        <option value="">ã™ã¹ã¦ã®é–‹å‚¬è€…</option>
                        </select>
                </div>
                <div class="filter-group">
                    <label for="areaFilter">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path d="M11.538 8.427a.75.75 0 0 1-.011 1.05l-4.25 3.5a.75.75 0 0 1-1.054-1.05l4.25-3.5a.75.75 0 0 1 1.065 0ZM8 1a3.5 3.5 0 0 0-3.5 3.5c0 .344.036.68.105 1.006L8 15.08l3.395-9.574A3.518 3.518 0 0 0 11.5 4.5 3.5 3.5 0 0 0 8 1Zm0 1c1.38 0 2.5 1.12 2.5 2.5S9.38 7 8 7 5.5 5.88 5.5 4.5 6.62 2 8 2Z"></path></svg>
                        ã‚¨ãƒªã‚¢:
                    </label>
                    <select id="areaFilter">
                        <option value="">ã™ã¹ã¦ã®ã‚¨ãƒªã‚¢</option>
                        <option value="tokyo">æ±äº¬ã‚¨ãƒªã‚¢</option>
                        <option value="osaka">å¤§é˜ªã‚¨ãƒªã‚¢</option>
                        <option value="online">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</option>
                        <option value="other">ãã®ä»–</option>
                    </select>
                </div>
            </div>
        </section>
        
        <div id="messageArea" class="message-area">
            <!-- ã‚¨ãƒ©ãƒ¼ã‚„è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ (js/index.jsã§å¯¾å¿œæƒ³å®š) -->
        </div>

        <div id="loadingMessage" class="loading-message">ã‚¤ãƒ™ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
        
        <ul id="eventList" class="event-grid">
        </ul>
        <p id="noEventsMessage" class="message warning-message" style="display:none; text-align:center;">ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚<br>ç¾åœ¨ã€æ¤œç´¢ã¨ä¸€è‡´ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãŒã”ã–ã„ã¾ã›ã‚“ã€‚<br>æ¤œç´¢æƒ…å ±ã‚’å¤‰æ›´ã—ã¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>
    </main>

    <footer class="site-footer">
        <p>Â© 2025 Business HUBã€Deal Denã€. All Rights Reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabaseClient.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/script.js"></script>
    <script src="js/index.js"></script>
</body>
</html>